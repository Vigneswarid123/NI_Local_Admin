<div class="dashboard_bg">
  <app-header></app-header>
  <div class="container-fluid pt64">
    <div class="row">
      <div class="col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2 collapse show d-md-flex bg-dark px-0 min-vh-100 nav" id="sidebar">
        <app-left-panel class="w-100"></app-left-panel>
    </div>

     

      <div class="contentpanel_bg col-9 pt-3">
         <div> 

        <!--                    add Terms start                    -->
               
        <div>
          <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-md-offset-4">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title"></h3>
                </div>
                <div class="panel-body">
                  <form [formGroup]="addTermForm" (ngSubmit)="onSubmit()">
                    <div >
                      <div class="row pb-4">
                        <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                          <label for="rule">Term</label>
                          <input type="text" class="form-control" placeholder="Enter term" autofocus formControlName="itc_Name" autofocus>                             
                          <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Name.hasError('required')">
                            Term is required
                          </small>
                          <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Name.hasError('maxlength')">
                            Maximum limit exceeded
                          </small>
                         </div>
                    </div> 
        
                    <div class="row pb-4">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <label style="color: white;">
                          Type
                        </label>
                        <select class="Dropdown" formControlName="itc_Type">
                            <option value="">Select Type</option>
                            <option  *ngFor="let list of xmlItems" [value]="list.id" >{{list.name}}</option>
                        </select> 

                        <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Type.hasError('required')">
                            Type is required 
                        </small>
                    </div>
                    </div>

                   <ng-container *ngIf="showOptions" formArrayName="incentivetermsoptions">
                     
                      <div class="row pb-4">
                        
                        <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">    
                          <label style="color: white;">
                            Terms options
                          </label>   
                          
                        </div>  
                        
                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" > 
                        <span  >                          
                          <span *ngFor="let dropdownitem of listItemsArray.controls;let i=index">
                            <div class="row pb-4">

                              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-9" >   

                                <div style="float: left;"> 
                                  <span [formGroupName]="i">         
                                    <input style="font-size: 12px; height: 30px;" type="text" class="form-control" formControlName="to_Name"> 
                                  </span> 
                                </div>
                                <div> 
                                  <a class="ml-1" *ngIf='listItemsArray.length > 1'><img class="closeimg" src="../../assets/Images/remove-icon.png" title="DELETE"  (click)="removeGroup(i)"></a>
                               </div>
                              </div>
                            </div>
                            <img style="cursor: pointer;position: absolute;" (click)="addGroup()" title="Add TermsOptions" src="assets/Images/circle_icon.png">
                          </span>
                        </span>
                      </div>
                         
 
                      </div>
 
                    </ng-container>


                    <div class="row pb-4">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <label> Display Name</label>
                        <input type="text"  class="form-control" maxlength="500" formControlName="itc_DisplayName" placeholder="Enter display name" autofocus>
                        <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_DisplayName.hasError('required')">Display name is required</small>
                        <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_DisplayName.hasError('maxlength')">
                          Maximum limit exceeded
                        </small>
                      </div>
                    </div>
                    
                     <div class="row pb-4">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <label> Description</label>
                        <textarea class="form-control" maxlength="500" formControlName="itc_Description" placeholder="Enter description" autofocus rows="5" cols="10">                             
                        </textarea>
                         <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Description.hasError('required')">
                        Description is required
                      </small>  
                      <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Description.hasError('maxlength')">
                        Maximum limit exceeded
                      </small> 
                       </div>
                    </div>     
                    
                     
                    
                    
                     <div class="row pb-4">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <label for="itc_Reference">Reference </label>                        
                          <input type="textbox" class="form-control" maxlength="500" formControlName="itc_Reference"  placeholder="Enter reference" autofocus  >
                          <!-- <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Reference.hasError('required')">
                            Reference is required 
                          </small>
                          <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Reference.hasError('maxlength')">
                            Maximum limit exceeded
                          </small>  -->
                        </div>
                     </div>

                     <div class="row pb-4">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <label class="dropdwnlabel">
                          Frequency
                        </label>
                        <select class="Dropdown" formControlName="itc_Frequency">
                            <option value="">Select Frequency Type</option>
                            <option value="1" >Daywise</option>
                            <option value="2" >Monthly</option>
                            <option value="3" >Yearly</option>
                        </select> 

                        <!-- <small class="errormessage" *ngIf="submitted && addTermForm.controls.itc_Frequency.hasError('required')">
                            Frequency is required 
                        </small> -->
                    </div>
                    </div>


                     <div class="row pb-4">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                        <label for="itc_IsDealerSpecific">Is Dealer Specific</label>
                       <label class="switch">
                         <input class="switch-input" type="checkbox" [checked]="switchResult == 'Y'" formControlname="itc_IsDealerSpecific" (change)="getDealerSpecificVal($event)" >
                         <span class="switch-label" data-on="Yes" data-off="No"></span>
                         <span class="switch-handle"></span>
                       </label>
                      </div>
                     </div>

                     <div class="row pb-4" style="display: none;">
                      <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
                      <label for="itc_Status">Status:                         
                      <input type="checkbox" value="Y" checked="true" >
                      
                     </label>
                     </div> 
                     </div>
                  
                     <div class="col-lg-12 pt-lg-5 pl-lg-4">
                      <div class="row">
                          <div class="col-lg-2">
                              <button type="submit" class="savebutton">Save</button>
                          </div>
                          <div class="col-lg-2">
                              <button type="submit" class="savebutton" [routerLink]="['/incentiveTerms']">Cancel</button>
                          </div>
                      </div>
                  </div>
                

                    <!-- <pre style="color: white;">{{addTermForm?.value|json}}</pre> -->

                  </div>  
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      
      
     
             
        <!--                            add Terms end                    -->
    

         </div> 
      </div>
      
     

    </div>
  </div>
</div>